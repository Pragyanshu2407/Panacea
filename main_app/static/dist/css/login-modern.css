/* Modern Interactive Login Page Styles */

:root {
  --accent: #0066CC;
  --accent-hover: #0052A3;
  --brand: #003366;
  --text: #0f172a;
  --muted: #475569;
  --error: #ef4444;
  --success: #22c55e;
  --dur: 300ms;
}

/* Prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  :root { --dur: 0ms; }
  * { animation: none !important; transition: none !important; }
}

/* Mobile timing adjustment: reduce by ~20% */
@media (max-width: 576px) {
  :root { --dur: 240ms; }
}

body.login-modern {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text);
  background: linear-gradient(to top, #E6F2FF, #B3D9FF);
  background-attachment: fixed;
}

/* Decorative floating blobs */
.stars { position: fixed; inset: 0; pointer-events: none; z-index: 0; }
.star {
  position: absolute; width: 2px; height: 2px; border-radius: 50%;
  background: rgba(255,255,255,0.9);
  opacity: 0.25;
  animation-name: floatUp, twinkle;
  animation-iteration-count: infinite, infinite;
  will-change: transform, opacity;
}
@keyframes floatUp { from { transform: translateY(0); } to { transform: translateY(calc(-1 * var(--star-move, 30px))); } }
@keyframes twinkle { 0%,100% { opacity: 0.2; } 50% { opacity: 0.5; } }

.login-card {
  width: 100%;
  max-width: 500px;
  min-width: 320px;
  background: #FFFFFF;
  border: 1px solid #E0E0E0;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  transform: translateY(0) translateZ(0);
  transition: transform var(--dur) ease, box-shadow var(--dur) ease;
  animation: fadeIn 0.3s ease both;
}

@keyframes float {
  0%, 100% { transform: translateY(0) translateZ(0); }
  50% { transform: translateY(-6px) translateZ(0); }
}

@keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }

.login-card .card-header {
  background: transparent;
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

.brand {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  color: var(--brand);
}
.brand img { height: 56px; width: 56px; border-radius: 12px; }
.brand-title { font-weight: 600; letter-spacing: 0.4px; color: var(--brand); }

.form-control.login-input {
  background-color: #FFFFFF !important;
  border: 1px solid #E0E0E0 !important;
  color: var(--text) !important;
  caret-color: var(--text);
  transition: border-color var(--dur) ease, box-shadow var(--dur) ease, transform var(--dur) ease;
}
.form-control.login-input::placeholder { color: var(--muted); }
.form-control.login-input:hover { border-color: #B3D9FF !important; }
.form-control.login-input:focus {
  border-color: #B3D9FF !important;
  box-shadow: 0 0 0 0.2rem rgba(179, 217, 255, 0.8) !important;
  transform: translateZ(0) scale(1.01);
}

/* Real-time validation styles */
.form-control.login-input.is-valid { border-color: var(--success) !important; }
.form-control.login-input.is-invalid { border-color: var(--error) !important; }
.validation-msg { font-size: 0.85rem; color: var(--muted); min-height: 20px; }
.validation-msg[data-state="error"] { color: var(--error); }
.validation-msg[data-state="success"] { color: var(--success); }

.btn-login {
  background: var(--accent) !important;
  border: none !important;
  color: #FFFFFF !important;
  border-radius: 4px !important;
  font-weight: 600;
  transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease, background-color 0.2s ease;
  will-change: transform;
  position: relative;
  overflow: hidden;
}
.btn-login:hover { transform: scale(1.02); background-color: var(--accent-hover) !important; box-shadow: 0 10px 20px rgba(0,0,0,0.15); }
.btn-login:active { transform: scale(1); }

/* Gentle pulsing for submit */
.btn-login.pulse { animation: pulse 2.8s ease-in-out infinite; }
@keyframes pulse {
  0%,100% { box-shadow: 0 0 0 0 rgba(45, 212, 191, 0.0); }
  50% { box-shadow: 0 0 0 16px rgba(45, 212, 191, 0.08); }
}

/* Loading spinner inside button */
.btn-login.loading { opacity: 0.9; }
.btn-login .spinner {
  position: absolute; right: 12px; top: 50%; transform: translateY(-50%);
  width: 18px; height: 18px; border: 2px solid rgba(15,23,42,0.5);
  border-top-color: #0f172a; border-radius: 50%; display: none; animation: spin 0.8s linear infinite;
}
.btn-login.loading .spinner { display: inline-block; }
@keyframes spin { to { transform: translateY(-50%) rotate(360deg); } }

/* Error shake animation for invalid attempts */
.shake {
  animation: shake var(--dur) ease;
}
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-6px); }
  40% { transform: translateX(6px); }
  60% { transform: translateX(-4px); }
  80% { transform: translateX(4px); }
}

/* Success animation (brief scale and glow) */
.success-glow {
  animation: success var(--dur) ease;
}
@keyframes success {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(34,197,94,0.0); }
  50% { transform: scale(1.02); box-shadow: 0 0 0 12px rgba(34,197,94,0.15); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(34,197,94,0.0); }
}

.remember label { color: var(--muted); }
.forgot-link { color: #6699CC; transition: color var(--dur) ease, opacity var(--dur) ease; }
.forgot-link:hover { color: #4d82b3; opacity: 0.95; }

/* Accessibility: focus ring for keyboard navigation */
.btn-login:focus-visible { outline: 3px solid rgba(45, 212, 191, 0.5); outline-offset: 2px; }

/* AdminLTE overrides to fit theme */
.login-page .card { border-radius: 8px; }
.login-page .input-group-text { background: #ffffff; border: 1px solid #E0E0E0; color: #334155; }
.login-box {
  position: relative; z-index: 1;
  display: flex; flex-direction: column; align-items: center; gap: 16px;
}